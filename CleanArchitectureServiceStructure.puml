@startuml
skinparam linetype ortho
title Clean Architecture Service Structure

package "Presentation Layer" {
class Controller {
  -ExampleUseCase: exampleUseCase
  ---
  +start(input: ExampleRequest): ExampleResult
}
}

package "Application Layer" {

interface UseCase<I, O> {
  +execute(input: I): O
}

interface ExampleUseCase {
  +execute(input: ExampleRequest): ExampleResult
}

' UseCase 구현 서비스
class ExampleService {
  -repository: ExampleRepository
  +execute(input: ExampleRequest): ExampleResult
}
}

package "Domain Layer" {


' 도메인 엔티티(예시)
class ExampleEntity {
  +id: Long
  ..domain fields..
}

class ExampleRequest(DTO)
class ExampleResult(DTO)
}
package "Infrastructure Layer" {

' 스프링 JPA 공통 레포지토리
interface JpaRepository {
}

' 도메인 레포지토리 인터페이스
interface ExampleRepository {
  +save(aggregate: ExampleEntity)
  +findById(id: Long): Optional<ExampleEntity>
}
}
' 관계 정의
UseCase <|-- ExampleUseCase
ExampleUseCase <|-- ExampleService

JpaRepository <|-- ExampleRepository

@enduml
